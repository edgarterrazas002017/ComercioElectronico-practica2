(function(c){c.fn.sudoSlider=function(ag){if(typeof(ag)!="object"&&ag!=""&&ag){this.each(function(){c(this).trigger("sudoSliderEvent",[ag])})}else{var X={prevNext:true,prevHtml:'<a href="#" class="prevBtn"> previous </a>',nextHtml:'<a href="#" class="nextBtn"> next </a>',controlsShow:true,controlsAttr:'id="controls"',controlsFadeSpeed:"400",controlsFade:true,insertAfter:true,firstShow:false,firstHtml:'<a href="#" class="firstBtn"> first </a>',lastShow:false,lastHtml:'<a href="#" class="lastBtn"> last </a>',numericAttr:'class="controls"',numericText:["1"],vertical:false,speed:"800",ease:"swing",auto:false,pause:"2000",continuous:false,clickableAni:false,numeric:false,updateBefore:false,history:false,speedhistory:"400",autoheight:true,customLink:false,fade:false,crossFade:true,fadespeed:"1000",ajax:false,loadingText:false,preloadAjax:false,startSlide:false,imgAjaxFunction:false,docAjaxFunction:false,beforeAniFunc:false,afterAniFunc:false,uncurrentFunc:false,currentFunc:false};var ag=c.extend(X,ag);var V=ag.controlsFadeSpeed;var P=ag.controlsFade;var N=ag.firstShow;var U=ag.lastShow;var an=ag.vertical;var aj=ag.speed;var ad=ag.ease;var M=ag.auto;var aa=ag.pause;var am=ag.continuous;var R=ag.prevNext;var ai=ag.numeric;var ae=ag.numericAttr;var ak=ag.numericText;var Z=ag.history;var af=ag.speedhistory;var al=ag.autoheight;var L=ag.customLink;var ab=ag.fade;var T=ag.crossFade;var W=ag.fadespeed;var S=ag.updateBefore;var ah=ag.ajax;var Q=ag.startSlide;var K=ag.imgAjaxFunction;var O=ag.docAjaxFunction;var ac=ag.beforeAniFunc;var b=ag.afterAniFunc;var J=ag.uncurrentFunc;var Y=ag.currentFunc;return this.each(function(){var i=true;if(M){am=true}var D=c(this);var aq=D.children("ul");var ar=aq.children("li");var y=ar.length;var C=ar.eq(0).width();var aJ=D.height();if(ah){if(aq.length==0){D.append("<ul></ul>");aq=D.children("ul")}if(ah.length>y){for(var f=1;f<=ah.length-y;f++){aq.append("<li><p>"+z()+"</p></li>")}ar=aq.children("li");y=ar.length;C=ar.eq(0).width()}}function z(){var aA=["Spinning up the hamster","Programming the flux capacitor","Testing data on Timmy... ... ... We need another Timmy","Warming up Large Hadron Collider","It looks like you're waiting for something to load"];return ag.loadingText?ag.loadingText:(aA[Math.round(Math.random()*(aA.length-1))]+"...")}var A=0;var aw=A;var l=A;var aG=y-1;var g=true;var m=false;var ao=false;var H=false;var n=0;var x=new Array();var j=false;var aF=false;D.css("overflow","hidden");if(D.css("position")=="static"){D.css("position","relative")}ar.css("float","left");for(var f=0;f<y;f++){if(ak[f]==undefined){ak[f]=(f+1)}if(ah&&ah[f]==undefined){ah[f]=false}}if(am){if(an){aq.prepend(ar.filter(":last-child").clone().css("margin-top","-"+aJ+"px"));aq.append(ar.filter(":nth-child(2)").clone());aq.height((y+1)*aJ)}else{aq.prepend(ar.filter(":last-child").clone().css("margin-left","-"+C+"px"));aq.append(ar.filter(":nth-child(2)").clone());aq.width((y+1)*C)}if(ah){if(ah[0]){ap("last",0,false,0)}if(ah[y-1]){ap("first",(y-1),false,0);ap(aG,aG,false,0);ah[y-1]=false}}}else{if(an){aq.height(y*aJ)}else{aq.width(y*C)}}if(ag.controlsShow){var ay=c("<span "+ag.controlsAttr+"></span>");if(ag.insertAfter){c(D).after(ay)}else{c(D).before(ay)}var ax=ag.controlsBefore;if(ai){j=ay.prepend("<ol "+ae+"></ol>").children();for(var f=0;f<y;f++){x[f]=c(document.createElement("li")).attr({rel:(f+1)}).html('<a href="#"><span>'+ak[f]+"</span></a>").appendTo(j).click(function(){w(c(this).attr("rel")-1,true);return false})}}if(N){var av=G(ag.firstHtml,"first")}if(U){var q=G(ag.lastHtml,"last")}if(R){var aH=G(ag.nextHtml,"next");var t=G(ag.prevHtml,"prev")}}if(ag.preloadAjax){for(var f=0;f<=aG;f++){if(ah[f]){ap(f,f,false,0);ah[f]=false}}}function w(aA,aB){if(!aF){if(ab){k(aA,aB)}else{o(aA,aB,true)}}}function G(aB,aA){var aC=c(aB);ay.prepend(aC);aC.click(function(){w(aA,true);return false});return aC}V=F(V);aj=F(aj);aa=F(aa);af=F(af);W=F(W);function F(aB){if(parseInt(aB)){var aA=parseInt(aB)}else{switch(aB){case"fast":var aA=200;break;case"normal":var aA=400;break;case"medium":var aA=400;break;case"slow":var aA=600;break;default:var aA=400}}return aA}function d(aA,aB){aA.each(function(){var aL=(this.tagName.toLowerCase()==="img")?c(this):c("img",this),aE=this,aC=0,aD=function(){if(typeof aB==="function"){aB(aE)}};if(aL.length){aL.each(function(){var aN=this,aK=function(aM){if((aN.complete)||(aN.readyState=="complete"&&aM.type=="readystatechange")){if(++aC===aL.length){aD()}}else{if(aN.readyState===undefined){c(aN).attr("src",c(aN).attr("src"))}}};c(aN).bind("load readystatechange",function(aM){aK(aM)});aK({type:"readystatechange"})})}else{aD()}})}function h(aB){var aD=false;var aC=aB.length;var aA=aB.substr(aC-4,4);if(aA==".jpg"||aA==".png"||aA==".bmp"||aA==".gif"){aD=true}var aA=aB.substr(aC-5,5);if(aA==".jpeg"){aD=true}return aD}function au(aN,aO,aC){if(aC){var aP=aH;var aB=q;var aE="next";var aA="last";var aD=U}else{var aP=t;var aB=av;var aE="prev";var aA="first";var aD=N}if(!am){if(R){aP.fadeTo(aO,aN,function(){if(aN==0){c(this).hide()}})}if(aD){aB.fadeTo(aO,aN,function(){if(aN==0){c(this).hide()}})}if(L){c(L).filter(function(aK){return(c(this).attr("rel")==aE||c(this).attr("rel")==aA)}).fadeTo(aO,aN,function(){if(aN==0){c(this).hide()}})}}}function B(aB,aA){if(aB==0){au(0,aA,false)}else{au(1,aA,false)}if(aB==aG){au(0,aA,true)}else{au(1,aA,true)}}function v(aA){aA=parseInt((aA>aG)?aA=0:((aA<0)?aA=aG:aA))+1;for(var aB=0;aB<x.length;aB++){u(x[aB],aA)}if(L){u(L,aA)}}function u(aA,aB){c(aA).filter(".current").removeClass("current").each(function(){if(c.isFunction(J)){J.call(this,c(this).attr("rel"))}});c(aA).filter(function(){return c(this).attr("rel")==aB}).addClass("current").each(function(aC){if(c.isFunction(Y)){Y.call(this,aB)}})}function e(aB){var aA=0;for(var aC=0;aC<=y;aC=aC+1){if(ak[aC]==aB){aA=aC}}return aA}function s(aB,aA){if(aB==y){aB=0}var aD=ar.eq(aB);var aC=aD.height();if(aC!=0){I(aC,aA)}d(aD,function(aE){aC=c(aE).height();if(aC!=0){I(aC,aA)}})}function I(aB,aA){D.animate({height:aB},{queue:false,duration:aA,easing:ad})}function aI(){if(A>aG){A=0}if(A<0){A=aG}if(!S){v(A)}if(an){aq.css("margin-top",(A*aJ*-1))}else{aq.css("margin-left",(A*C*-1))}g=true;if(Z&&m){window.location.hash=ak[A]}if(!ao){if(c.isFunction(b)){b.call(ar.eq(A),A+1)}}}function at(aC,aA){var aB=A;switch(aC){case"next":aB=(aA>=aG)?(am?aB+1:aG):aB+1;break;case"prev":aB=(A<=0)?(am?aB-1:0):aB-1;break;case"first":aB=0;break;case"last":aB=aG;break;default:aB=parseInt(aC);break}return aB}function ap(aN,aC,aD,aE){var aA=false;if(parseInt(aN)||aN==0){aA=ar.eq(aN)}else{if(aN=="last"){aA=c("li:last",D)}else{aA=c("li:first",D)}}var aB=(ao)?(!T?parseInt(W*(2/5)):W):aE;var aM=aC+1;if(h(ah[aC])){aA.html(" ").append(c(new Image()).attr("src",ah[aC]));d(aA,function(aQ){var aK=c(aQ).children();var aL=aK.width();var aR=aK.height();aK.attr({oldheight:aR,oldwidth:aL});if(aL>C){aK.animate({width:C,height:(aR/aL)*C},0)}if(c.isFunction(K)){K.call(c(aQ),aM)}if(al&&aD){s(A,aB)}})}else{aA.load(ah[aC],function(aL,aR,aK){if(aR=="error"||!c(this).html()){c(this).html("Sorry but there was an error: "+(aK.status?aK.status:"no content")+" "+aK.statusText)}if(aR!="error"&&c.isFunction(O)){O.call(c(this),aM)}var aQ=c(this).height();if(al&&aD){s(aC,aB)}})}}function k(aO,aP){if(aO!=A&&!aF){if(g){H=false;if(aP){clearTimeout(r)}if(S){v(at(aO,aw))}g=!aP;var aN=(!aP&&!M&&Z)?W*(af/aj):W;var aD=at(aO,aw);if(aD>aG){aD=0}if(aD<0){aD=aG}if(P){B(aD,V)}if(al){if(ah){if(!ah[aD]){s(aD,W)}}else{s(aD,W)}}var aE=ar.eq(aD);if(c.isFunction(ac)){ac.call(aE,aD+1)}if(T){var aA=aE.clone().prependTo(D).css({"z-index":"100000",position:"absolute","list-style":"none",top:"0",left:"0"});if(ah[aD]){ap(0,aD,false,aN);if(h(ah[aD])){ap(aD+1,aD,false,aN);d(ar.eq(aD+1),function(){if(al){s(aD,W)}})}else{ap(aD+1,aD,true,aN)}ah[aD]=false}aA.hide().fadeIn(W,function(){g=true;ao=true;o(aO,false,false);c(this).remove();if(Z&&aP){window.location.hash=ak[A]}ao=false;if(c.isFunction(b)){b.call(aE,aD+1)}})}else{var aB=parseInt((aN)*(3/5));var aC=aN-aB;D.children().fadeTo(aC,0.00001,function(){g=true;ao=true;o(aO,false,false);g=!aP;D.children().fadeTo(aB,1,function(){if(Z&&aP){window.location.hash=ak[A]}g=true;ao=false;if(c.isFunction(b)){b.call(aE,aD+1)}})})}}}}function o(aB,aO,aD){if(g&&!aF){H=false;g=(!aO&&!M)?true:ag.clickableAni;m=aO;aw=A;A=at(aB,aw);if(S){v(A)}var aE=Math.sqrt(Math.abs(aw-A));var aN=parseInt(aE*aj);if(!aO&&!M){aN=parseInt(aE*af)}if(!aD){aN=0}var aP=A;if(A>aG){aP=0}if(A<0){aP=aG}if(ah){if(ah[aP]){ap(aP,aP,true,aN);ah[aP]=false;H=true}if(!ao){var aC=0;if(aw>A){for(a=A;a<=aw;a++){if(a<=aG&&a>=0){if(ah[a]){ap(a,a,false,aN);ah[a]=false;aC++}}if(aC==10){a=aw}}}else{for(a=aw;a<=A;a++){if(a<=aG&&a>=0){if(ah[a]){ap(a,a,false,aN);ah[a]=false;aC++}}if(aC==10){a=A}}}}if((aP+1<=aG)&&!i){if(ah[aP+1]){ap(aP+1,aP+1,false,0);ah[aP+1]=false}}if(aP-1>=0&&!i){if(ah[aP-1]){ap(aP-1,aP-1,false,0);ah[aP-1]=false}}}if(!ao){if(c.isFunction(ac)){ac.call(ar.eq(aP),aP+1);if(A==-1||A==y){ac.call(aq.children("li").eq((A==-1)?0:-1),aP+1)}}}if(!an){if(al&&!ao&&!H){s(A,aN)}p=(A*C*-1);aq.animate({marginLeft:p},{queue:false,duration:aN,easing:ad,complete:aI})}else{p=(A*aJ*-1);aq.animate({marginTop:p},{queue:false,duration:aN,easing:ad,complete:aI})}if(P){var aA=V;if(!aO&&!M){aA=(af/aj)*V}if(!aD){aA=0}if(ao){aA=parseInt((W)*(3/5))}B(A,aA)}if(aO){clearTimeout(r)}if(M&&aB=="next"&&!aO){r=az(aa+aj)}}}var r;if(M){r=az(aa)}function az(aA){return setTimeout(function(){w("next",false)},aA)}if(L){c(L).live("click",function(){var aA=c(this).attr("rel");if(aA){E(aA)}return false})}D.bind("sudoSliderEvent",function(aA,aB){E(aB)});function E(aA){if(aA=="stop"){clearTimeout(r)}else{if(aA=="start"){r=az(aa);M=true}else{if(aA=="block"){g=false}else{if(aA=="unblock"){g=true}else{if(aA=="action"){alert("The slider just performed an action")}else{if(aA=="destroy"){ay.remove();aF=true;c(L).die("click");if(am){aq.children("li").eq(0).remove();aq.children("li").eq(-1).remove()}}else{if(g){w((aA==parseInt(aA))?aA-1:aA,true)}}}}}}}}i=false;if(Z){c.address.init(function(aA){var aB=e(aA.value);o(aB,false,false)}).change(function(aA){var aB=e(aA.value);if(aB!=A){w(aB,false)}})}else{if(Q){o(Q-1,false,false)}else{o(0,false,false)}}})}}})(jQuery);